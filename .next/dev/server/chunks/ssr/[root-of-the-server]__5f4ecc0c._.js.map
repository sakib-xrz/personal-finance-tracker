{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sakib/Downloads/personal-finance-tracker/lib/prisma.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\r\n\r\nconst globalForPrisma = globalThis as unknown as {\r\n  prisma: PrismaClient | undefined;\r\n};\r\n\r\n// Prisma Client configuration for Next.js 16 with cache components\r\n// Workaround for Prisma 7.0.1 + Next.js 16.0.3 compatibility issue\r\n// The engineType = \"library\" is set in prisma/schema.prisma, but Prisma\r\n// still detects \"client\" engine type at runtime in Next.js 16 cache components context\r\n\r\n// Use a getter function that's called at runtime, not module evaluation\r\nfunction createPrismaClient(): PrismaClient {\r\n  if (globalForPrisma.prisma) {\r\n    return globalForPrisma.prisma;\r\n  }\r\n\r\n  // Initialize Prisma Client - the schema has engineType = \"library\"\r\n  // but we need to ensure it's not evaluated during module load\r\n  const client = new PrismaClient({\r\n    log:\r\n      process.env.NODE_ENV === \"development\"\r\n        ? [\"query\", \"error\", \"warn\"]\r\n        : [\"error\"],\r\n  });\r\n\r\n  if (process.env.NODE_ENV !== \"production\") {\r\n    globalForPrisma.prisma = client;\r\n  }\r\n\r\n  return client;\r\n}\r\n\r\n// Export a function that returns Prisma Client instead of exporting the client directly\r\n// This ensures Prisma is only initialized when the function is called, not during module evaluation\r\n// This is the recommended approach for Next.js 16 with cache components\r\nexport function getPrisma(): PrismaClient {\r\n  return createPrismaClient();\r\n}\r\n\r\n// Also export as default for convenience\r\nexport default getPrisma;\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAEA,MAAM,kBAAkB;AAIxB,mEAAmE;AACnE,mEAAmE;AACnE,wEAAwE;AACxE,uFAAuF;AAEvF,wEAAwE;AACxE,SAAS;IACP,IAAI,gBAAgB,MAAM,EAAE;QAC1B,OAAO,gBAAgB,MAAM;IAC/B;IAEA,mEAAmE;IACnE,8DAA8D;IAC9D,MAAM,SAAS,IAAI,aAAa;QAC9B,KACE,uCACI;YAAC;YAAS;YAAS;SAAO,GAC1B;IACR;IAEA,wCAA2C;QACzC,gBAAgB,MAAM,GAAG;IAC3B;IAEA,OAAO;AACT;AAKO,SAAS;IACd,OAAO;AACT;uCAGe"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sakib/Downloads/personal-finance-tracker/lib/bengali-utils.ts"],"sourcesContent":["// Utility functions for Bengali number conversion\n\nconst bengaliNumerals = [\"০\", \"১\", \"২\", \"৩\", \"৪\", \"৫\", \"৬\", \"৭\", \"৮\", \"৯\"]\n\nexport function toBengaliNumber(num: number | string): string {\n  return String(num)\n    .split(\"\")\n    .map((char) => {\n      const digit = Number.parseInt(char, 10)\n      return isNaN(digit) ? char : bengaliNumerals[digit]\n    })\n    .join(\"\")\n}\n\nexport const bengaliMonths = [\n  \"জানুয়ারি\",\n  \"ফেব্রুয়ারি\",\n  \"মার্চ\",\n  \"এপ্রিল\",\n  \"মে\",\n  \"জুন\",\n  \"জুলাই\",\n  \"আগস্ট\",\n  \"সেপ্টেম্বর\",\n  \"অক্টোবর\",\n  \"নভেম্বর\",\n  \"ডিসেম্বর\",\n]\n\nexport const bengaliWeekdays = [\"রবি\", \"সোম\", \"মঙ্গল\", \"বুধ\", \"বৃহঃ\", \"শুক্র\", \"শনি\"]\n\nexport const bengaliWeekdaysShort = [\"র\", \"সো\", \"ম\", \"বু\", \"বৃ\", \"শু\", \"শ\"]\n"],"names":[],"mappings":"AAAA,kDAAkD;;;;;;;;;;;AAElD,MAAM,kBAAkB;IAAC;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;CAAI;AAEnE,SAAS,gBAAgB,GAAoB;IAClD,OAAO,OAAO,KACX,KAAK,CAAC,IACN,GAAG,CAAC,CAAC;QACJ,MAAM,QAAQ,OAAO,QAAQ,CAAC,MAAM;QACpC,OAAO,MAAM,SAAS,OAAO,eAAe,CAAC,MAAM;IACrD,GACC,IAAI,CAAC;AACV;AAEO,MAAM,gBAAgB;IAC3B;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAM,kBAAkB;IAAC;IAAO;IAAO;IAAS;IAAO;IAAQ;IAAS;CAAM;AAE9E,MAAM,uBAAuB;IAAC;IAAK;IAAM;IAAK;IAAM;IAAM;IAAM;CAAI"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sakib/Downloads/personal-finance-tracker/lib/api-utils.ts"],"sourcesContent":["import { TransactionType as PrismaTransactionType, Transaction } from \"@prisma/client\"\r\nimport type { TransactionType } from \"./finance-data\"\r\nimport { bengaliMonths, toBengaliNumber } from \"./bengali-utils\"\r\n\r\n/**\r\n * Convert Prisma enum to TypeScript type\r\n */\r\nexport function prismaTypeToTS(type: PrismaTransactionType): TransactionType {\r\n  switch (type) {\r\n    case \"INCOME\":\r\n      return \"income\"\r\n    case \"EXPENSE\":\r\n      return \"expense\"\r\n    case \"SAVINGS\":\r\n      return \"savings\"\r\n    default:\r\n      return \"income\"\r\n  }\r\n}\r\n\r\n/**\r\n * Convert TypeScript type to Prisma enum\r\n */\r\nexport function tsTypeToPrisma(type: TransactionType): PrismaTransactionType {\r\n  switch (type) {\r\n    case \"income\":\r\n      return \"INCOME\"\r\n    case \"expense\":\r\n      return \"EXPENSE\"\r\n    case \"savings\":\r\n      return \"SAVINGS\"\r\n    default:\r\n      return \"INCOME\"\r\n  }\r\n}\r\n\r\n/**\r\n * Calculate month string from date in Bengali format (e.g., \"জানুয়ারি ২০২৫\")\r\n */\r\nexport function calculateMonthFromDate(date: Date | string): string {\r\n  const dateObj = typeof date === \"string\" ? new Date(date) : date\r\n  const monthIndex = dateObj.getMonth()\r\n  const year = dateObj.getFullYear()\r\n  const bengaliMonth = bengaliMonths[monthIndex]\r\n  const bengaliYear = toBengaliNumber(year)\r\n  return `${bengaliMonth} ${bengaliYear}`\r\n}\r\n\r\n/**\r\n * Convert Prisma Transaction to API Transaction format\r\n */\r\nexport function formatTransaction(prismaTransaction: Transaction) {\r\n  // Handle date conversion - Prisma returns Date object\r\n  const dateString = prismaTransaction.date instanceof Date\r\n    ? prismaTransaction.date.toISOString().split(\"T\")[0]\r\n    : new Date(prismaTransaction.date).toISOString().split(\"T\")[0]\r\n\r\n  return {\r\n    id: prismaTransaction.id,\r\n    title: prismaTransaction.title,\r\n    amount: Number(prismaTransaction.amount),\r\n    date: dateString, // Format as YYYY-MM-DD\r\n    category: prismaTransaction.category,\r\n    type: prismaTypeToTS(prismaTransaction.type),\r\n    month: prismaTransaction.month,\r\n  }\r\n}\r\n\r\n/**\r\n * Convert date from dd/MM/yyyy format to YYYY-MM-DD format\r\n */\r\nexport function convertDateToISO(dateString: string): string {\r\n  // Handle Bengali date format (dd/MM/yyyy) or already ISO format\r\n  if (dateString.includes(\"/\")) {\r\n    const parts = dateString.split(\"/\")\r\n    if (parts.length === 3) {\r\n      const day = parts[0].padStart(2, \"0\")\r\n      const month = parts[1].padStart(2, \"0\")\r\n      const year = parts[2]\r\n      return `${year}-${month}-${day}`\r\n    }\r\n  }\r\n  // If already in ISO format or invalid, return as is\r\n  return dateString\r\n}\r\n\r\n/**\r\n * Convert date from YYYY-MM-DD format to dd/MM/yyyy format\r\n */\r\nexport function convertDateFromISO(dateString: string): string {\r\n  // Handle ISO format (YYYY-MM-DD)\r\n  if (dateString.includes(\"-\") && dateString.length === 10) {\r\n    const parts = dateString.split(\"-\")\r\n    if (parts.length === 3) {\r\n      return `${parts[2]}/${parts[1]}/${parts[0]}`\r\n    }\r\n  }\r\n  // If already in dd/MM/yyyy format or invalid, return as is\r\n  return dateString\r\n}\r\n\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAEA;;AAKO,SAAS,eAAe,IAA2B;IACxD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAKO,SAAS,eAAe,IAAqB;IAClD,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF;AAKO,SAAS,uBAAuB,IAAmB;IACxD,MAAM,UAAU,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IAC5D,MAAM,aAAa,QAAQ,QAAQ;IACnC,MAAM,OAAO,QAAQ,WAAW;IAChC,MAAM,eAAe,wIAAa,CAAC,WAAW;IAC9C,MAAM,cAAc,IAAA,0IAAe,EAAC;IACpC,OAAO,GAAG,aAAa,CAAC,EAAE,aAAa;AACzC;AAKO,SAAS,kBAAkB,iBAA8B;IAC9D,sDAAsD;IACtD,MAAM,aAAa,kBAAkB,IAAI,YAAY,OACjD,kBAAkB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE,GAClD,IAAI,KAAK,kBAAkB,IAAI,EAAE,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,EAAE;IAEhE,OAAO;QACL,IAAI,kBAAkB,EAAE;QACxB,OAAO,kBAAkB,KAAK;QAC9B,QAAQ,OAAO,kBAAkB,MAAM;QACvC,MAAM;QACN,UAAU,kBAAkB,QAAQ;QACpC,MAAM,eAAe,kBAAkB,IAAI;QAC3C,OAAO,kBAAkB,KAAK;IAChC;AACF;AAKO,SAAS,iBAAiB,UAAkB;IACjD,gEAAgE;IAChE,IAAI,WAAW,QAAQ,CAAC,MAAM;QAC5B,MAAM,QAAQ,WAAW,KAAK,CAAC;QAC/B,IAAI,MAAM,MAAM,KAAK,GAAG;YACtB,MAAM,MAAM,KAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG;YACjC,MAAM,QAAQ,KAAK,CAAC,EAAE,CAAC,QAAQ,CAAC,GAAG;YACnC,MAAM,OAAO,KAAK,CAAC,EAAE;YACrB,OAAO,GAAG,KAAK,CAAC,EAAE,MAAM,CAAC,EAAE,KAAK;QAClC;IACF;IACA,oDAAoD;IACpD,OAAO;AACT;AAKO,SAAS,mBAAmB,UAAkB;IACnD,iCAAiC;IACjC,IAAI,WAAW,QAAQ,CAAC,QAAQ,WAAW,MAAM,KAAK,IAAI;QACxD,MAAM,QAAQ,WAAW,KAAK,CAAC;QAC/B,IAAI,MAAM,MAAM,KAAK,GAAG;YACtB,OAAO,GAAG,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,CAAC,CAAC,EAAE,KAAK,CAAC,EAAE,EAAE;QAC9C;IACF;IACA,2DAA2D;IAC3D,OAAO;AACT"}},
    {"offset": {"line": 209, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sakib/Downloads/personal-finance-tracker/app/actions/transactions.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { getPrisma } from \"@/lib/prisma\";\r\nimport {\r\n  tsTypeToPrisma,\r\n  formatTransaction,\r\n  calculateMonthFromDate,\r\n  prismaTypeToTS,\r\n} from \"@/lib/api-utils\";\r\nimport { z } from \"zod\";\r\nimport { cacheTag, updateTag } from \"next/cache\";\r\n\r\n// Cache tags\r\nconst CACHE_TAG_TRANSACTIONS = \"transactions\";\r\nconst CACHE_TAG_TRANSACTION = (id: string) => `transaction-${id}`;\r\nconst CACHE_TAG_STATS = \"transaction-stats\";\r\n\r\n// Validation schemas\r\nconst createTransactionSchema = z.object({\r\n  title: z.string().min(1, \"Title is required\"),\r\n  amount: z.number().positive(\"Amount must be positive\"),\r\n  date: z\r\n    .string()\r\n    .regex(/^\\d{4}-\\d{2}-\\d{2}$/, \"Date must be in YYYY-MM-DD format\"),\r\n  category: z.string().min(1, \"Category is required\"),\r\n  type: z.enum([\"income\", \"expense\", \"savings\"]),\r\n});\r\n\r\nconst updateTransactionSchema = z.object({\r\n  title: z.string().min(1, \"Title is required\").optional(),\r\n  amount: z.number().positive(\"Amount must be positive\").optional(),\r\n  date: z\r\n    .string()\r\n    .regex(/^\\d{4}-\\d{2}-\\d{2}$/, \"Date must be in YYYY-MM-DD format\")\r\n    .optional(),\r\n  category: z.string().min(1, \"Category is required\").optional(),\r\n  type: z.enum([\"income\", \"expense\", \"savings\"]).optional(),\r\n});\r\n\r\n// Server Action: Get all transactions with optional filters\r\nexport async function getTransactions(filters?: {\r\n  type?: \"income\" | \"expense\" | \"savings\";\r\n  month?: string;\r\n  category?: string;\r\n}) {\r\n  \"use cache\";\r\n\r\n  try {\r\n    cacheTag(CACHE_TAG_TRANSACTIONS);\r\n\r\n    const where: any = {};\r\n\r\n    if (\r\n      filters?.type &&\r\n      [\"income\", \"expense\", \"savings\"].includes(filters.type)\r\n    ) {\r\n      where.type = tsTypeToPrisma(filters.type);\r\n    }\r\n\r\n    if (filters?.month) {\r\n      where.month = filters.month;\r\n    }\r\n\r\n    if (filters?.category) {\r\n      where.category = filters.category;\r\n    }\r\n\r\n    const prisma = getPrisma();\r\n    const transactions = await prisma.transaction.findMany({\r\n      where,\r\n      orderBy: {\r\n        date: \"desc\",\r\n      },\r\n    });\r\n\r\n    const formattedTransactions = transactions.map(formatTransaction);\r\n\r\n    return {\r\n      success: true as const,\r\n      data: formattedTransactions,\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching transactions:\", error);\r\n    return {\r\n      success: false as const,\r\n      error: \"Failed to fetch transactions\",\r\n      message: error instanceof Error ? error.message : \"Unknown error\",\r\n    };\r\n  }\r\n}\r\n\r\n// Server Action: Get a single transaction\r\nexport async function getTransaction(id: string) {\r\n  // Temporarily removed \"use cache\" due to Prisma 7.0.1 compatibility issue\r\n  // \"use cache\";\r\n\r\n  try {\r\n    cacheTag(CACHE_TAG_TRANSACTION(id));\r\n    cacheTag(CACHE_TAG_TRANSACTIONS);\r\n\r\n    const prisma = getPrisma();\r\n    const transaction = await prisma.transaction.findUnique({\r\n      where: { id },\r\n    });\r\n\r\n    if (!transaction) {\r\n      return {\r\n        success: false as const,\r\n        error: \"Transaction not found\",\r\n      };\r\n    }\r\n\r\n    return {\r\n      success: true as const,\r\n      data: formatTransaction(transaction),\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching transaction:\", error);\r\n    return {\r\n      success: false as const,\r\n      error: \"Failed to fetch transaction\",\r\n      message: error instanceof Error ? error.message : \"Unknown error\",\r\n    };\r\n  }\r\n}\r\n\r\n// Server Action: Create a new transaction\r\nexport async function createTransaction(\r\n  data: z.infer<typeof createTransactionSchema>\r\n) {\r\n  try {\r\n    // Validate request body\r\n    const validationResult = createTransactionSchema.safeParse(data);\r\n    if (!validationResult.success) {\r\n      return {\r\n        success: false as const,\r\n        error: \"Validation failed\",\r\n        details: validationResult.error.errors,\r\n      };\r\n    }\r\n\r\n    const { title, amount, date, category, type } = validationResult.data;\r\n\r\n    // Calculate month from date\r\n    const month = calculateMonthFromDate(date);\r\n\r\n    // Create transaction in database\r\n    const prisma = getPrisma();\r\n    const transaction = await prisma.transaction.create({\r\n      data: {\r\n        title,\r\n        amount,\r\n        date: new Date(date),\r\n        category,\r\n        type: tsTypeToPrisma(type),\r\n        month,\r\n      },\r\n    });\r\n\r\n    // Revalidate cache immediately\r\n    updateTag(CACHE_TAG_TRANSACTIONS);\r\n    updateTag(CACHE_TAG_STATS);\r\n    updateTag(CACHE_TAG_TRANSACTION(transaction.id));\r\n\r\n    return {\r\n      success: true as const,\r\n      data: formatTransaction(transaction),\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error creating transaction:\", error);\r\n    return {\r\n      success: false as const,\r\n      error: \"Failed to create transaction\",\r\n      message: error instanceof Error ? error.message : \"Unknown error\",\r\n    };\r\n  }\r\n}\r\n\r\n// Server Action: Update a transaction\r\nexport async function updateTransaction(\r\n  id: string,\r\n  data: Partial<z.infer<typeof updateTransactionSchema>>\r\n) {\r\n  try {\r\n    // Check if transaction exists\r\n    const prisma = getPrisma();\r\n    const existingTransaction = await prisma.transaction.findUnique({\r\n      where: { id },\r\n    });\r\n\r\n    if (!existingTransaction) {\r\n      return {\r\n        success: false as const,\r\n        error: \"Transaction not found\",\r\n      };\r\n    }\r\n\r\n    // Validate request body\r\n    const validationResult = updateTransactionSchema.safeParse(data);\r\n    if (!validationResult.success) {\r\n      return {\r\n        success: false as const,\r\n        error: \"Validation failed\",\r\n        details: validationResult.error.errors,\r\n      };\r\n    }\r\n\r\n    const updateData: any = {};\r\n\r\n    if (validationResult.data.title !== undefined) {\r\n      updateData.title = validationResult.data.title;\r\n    }\r\n    if (validationResult.data.amount !== undefined) {\r\n      updateData.amount = validationResult.data.amount;\r\n    }\r\n    if (validationResult.data.date !== undefined) {\r\n      updateData.date = new Date(validationResult.data.date);\r\n      updateData.month = calculateMonthFromDate(validationResult.data.date);\r\n    }\r\n    if (validationResult.data.category !== undefined) {\r\n      updateData.category = validationResult.data.category;\r\n    }\r\n    if (validationResult.data.type !== undefined) {\r\n      updateData.type = tsTypeToPrisma(validationResult.data.type);\r\n    }\r\n\r\n    const transaction = await prisma.transaction.update({\r\n      where: { id },\r\n      data: updateData,\r\n    });\r\n\r\n    // Revalidate cache immediately\r\n    updateTag(CACHE_TAG_TRANSACTIONS);\r\n    updateTag(CACHE_TAG_STATS);\r\n    updateTag(CACHE_TAG_TRANSACTION(id));\r\n\r\n    return {\r\n      success: true as const,\r\n      data: formatTransaction(transaction),\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error updating transaction:\", error);\r\n    return {\r\n      success: false as const,\r\n      error: \"Failed to update transaction\",\r\n      message: error instanceof Error ? error.message : \"Unknown error\",\r\n    };\r\n  }\r\n}\r\n\r\n// Server Action: Delete a transaction\r\nexport async function deleteTransaction(id: string) {\r\n  try {\r\n    // Check if transaction exists\r\n    const prisma = getPrisma();\r\n    const existingTransaction = await prisma.transaction.findUnique({\r\n      where: { id },\r\n    });\r\n\r\n    if (!existingTransaction) {\r\n      return {\r\n        success: false as const,\r\n        error: \"Transaction not found\",\r\n      };\r\n    }\r\n\r\n    await prisma.transaction.delete({\r\n      where: { id },\r\n    });\r\n\r\n    // Revalidate cache immediately\r\n    updateTag(CACHE_TAG_TRANSACTIONS);\r\n    updateTag(CACHE_TAG_STATS);\r\n    updateTag(CACHE_TAG_TRANSACTION(id));\r\n\r\n    return {\r\n      success: true as const,\r\n      message: \"Transaction deleted successfully\",\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error deleting transaction:\", error);\r\n    return {\r\n      success: false as const,\r\n      error: \"Failed to delete transaction\",\r\n      message: error instanceof Error ? error.message : \"Unknown error\",\r\n    };\r\n  }\r\n}\r\n\r\n// Server Action: Get statistics/summary\r\nexport async function getTransactionStats(month?: string) {\r\n  // Temporarily removed \"use cache\" due to Prisma 7.0.1 compatibility issue\r\n  // \"use cache\";\r\n\r\n  try {\r\n    cacheTag(CACHE_TAG_STATS);\r\n    cacheTag(CACHE_TAG_TRANSACTIONS);\r\n\r\n    const where: any = {};\r\n\r\n    if (month) {\r\n      where.month = month;\r\n    }\r\n\r\n    const prisma = getPrisma();\r\n    const transactions = await prisma.transaction.findMany({\r\n      where,\r\n    });\r\n\r\n    // Calculate totals\r\n    let income = 0;\r\n    let expense = 0;\r\n    let savings = 0;\r\n\r\n    transactions.forEach((transaction) => {\r\n      const amount = Number(transaction.amount);\r\n      switch (transaction.type) {\r\n        case \"INCOME\":\r\n          income += amount;\r\n          break;\r\n        case \"EXPENSE\":\r\n          expense += amount;\r\n          break;\r\n        case \"SAVINGS\":\r\n          savings += amount;\r\n          break;\r\n      }\r\n    });\r\n\r\n    // Calculate additional statistics\r\n    const totalTransactions = transactions.length;\r\n    const incomeTransactions = transactions.filter(\r\n      (t) => t.type === \"INCOME\"\r\n    ).length;\r\n    const expenseTransactions = transactions.filter(\r\n      (t) => t.type === \"EXPENSE\"\r\n    ).length;\r\n    const savingsTransactions = transactions.filter(\r\n      (t) => t.type === \"SAVINGS\"\r\n    ).length;\r\n\r\n    // Calculate balance (income - expense - savings)\r\n    const balance = income - expense - savings;\r\n\r\n    // Get category breakdown\r\n    const categoryBreakdown: Record<\r\n      string,\r\n      { income: number; expense: number; savings: number }\r\n    > = {};\r\n\r\n    transactions.forEach((transaction) => {\r\n      const category = transaction.category;\r\n      const amount = Number(transaction.amount);\r\n\r\n      if (!categoryBreakdown[category]) {\r\n        categoryBreakdown[category] = { income: 0, expense: 0, savings: 0 };\r\n      }\r\n\r\n      switch (transaction.type) {\r\n        case \"INCOME\":\r\n          categoryBreakdown[category].income += amount;\r\n          break;\r\n        case \"EXPENSE\":\r\n          categoryBreakdown[category].expense += amount;\r\n          break;\r\n        case \"SAVINGS\":\r\n          categoryBreakdown[category].savings += amount;\r\n          break;\r\n      }\r\n    });\r\n\r\n    return {\r\n      success: true as const,\r\n      data: {\r\n        totals: {\r\n          income,\r\n          expense,\r\n          savings,\r\n          balance,\r\n        },\r\n        counts: {\r\n          total: totalTransactions,\r\n          income: incomeTransactions,\r\n          expense: expenseTransactions,\r\n          savings: savingsTransactions,\r\n        },\r\n        categoryBreakdown,\r\n      },\r\n    };\r\n  } catch (error) {\r\n    console.error(\"Error fetching statistics:\", error);\r\n    return {\r\n      success: false as const,\r\n      error: \"Failed to fetch statistics\",\r\n      message: error instanceof Error ? error.message : \"Unknown error\",\r\n    };\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 595, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sakib/Downloads/personal-finance-tracker/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {getTransaction as '406248439e02a48fa56465edd9c0b29e36560f7d30'} from 'ACTIONS_MODULE0'\nexport {createTransaction as '40d87f6f6982ce78e04ff6615b06286b60f7c41892'} from 'ACTIONS_MODULE0'\nexport {getTransactionStats as '40e993d5248b4b8df9c8f17d3ed787765adac02f2b'} from 'ACTIONS_MODULE0'\nexport {deleteTransaction as '40f77a286404cbef10c00701a25590f2629957f74b'} from 'ACTIONS_MODULE0'\nexport {updateTransaction as '608f978a79c2bec7623c716cb9f0346df8e81a7f29'} from 'ACTIONS_MODULE0'\nexport {$$RSC_SERVER_CACHE_0 as 'c0c6d0b473795f8ef2259009d0644f184944fc9822'} from 'ACTIONS_MODULE0'\nexport {getTransactions as 'c0051826376a93c82271df604dec916490ec7fa869'} from 'ACTIONS_MODULE0'\nexport {createTransaction as '40d87f6f6982ce78e04ff6615b06286b60f7c41892'} from 'ACTIONS_MODULE0'\nexport {updateTransaction as '608f978a79c2bec7623c716cb9f0346df8e81a7f29'} from 'ACTIONS_MODULE0'\nexport {deleteTransaction as '40f77a286404cbef10c00701a25590f2629957f74b'} from 'ACTIONS_MODULE0'\nexport {getTransactionStats as '40e993d5248b4b8df9c8f17d3ed787765adac02f2b'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA"}}]
}